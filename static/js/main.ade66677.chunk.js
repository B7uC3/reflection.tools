(this["webpackJsonpreflection.tools"]=this["webpackJsonpreflection.tools"]||[]).push([[0],{173:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(57),s=n.n(c),o=(n(65),n.p+"static/media/logo.6ce24c58.svg"),d=n(2),i=n(60),u=n(1),l={"0xfbab1d829e36efbd13642229eae2964004f38c41":"Evergrow","0x9aacfd4ff2a965779cff25e370b89b788222e6b9":"Crypter","0xfdac78ff52dead5a5f0b89b32a8ea66a01979f31":"Reflecto","0xdedf5fa8ec49255bc2c7bfadcd18be2c0d228f99":"Reflecto","0x7bda2f125b0e63bb332e1e6342be381e28efaeb6":"Reflecto","0xd93a7af8d6292030947b13dd2942a8d2baca649b":"Santa Coin","0x62c73478676848b96b729a3f2e25412735154df0":"Corsac"},f=Object.values(l).filter((function(e,t,n){return n.indexOf(e)===t})),b=f.reduce((function(e,t,n){return e[t]="hsl(".concat(n/f.length*270," 100% 50%)"),e}),{});function j(){var e=Object(a.useState)((function(){var e,t;return null!==(e=null!==(t=window.location.hash.replace("#",""))&&void 0!==t?t:localStorage.getItem("walletAddress"))&&void 0!==e?e:""})),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(n),s=Object(d.a)(c,2),o=s[0],j=s[1],h=Object(a.useState)(n),O=Object(d.a)(h,2),v=O[0],p=O[1],g=Object(a.useState)(),m=Object(d.a)(g,2),x=m[0],y=m[1],S=Object(a.useState)(!1),w=Object(d.a)(S,2),E=w[0],C=w[1];return Object(a.useEffect)((function(){var e=setTimeout((function(){j(n)}),500);return localStorage.setItem("walletAddress",n),function(){clearTimeout(e)}}),[n]),Object(a.useEffect)((function(){if(window.location.hash=o,!o.match(/^0x[A-Za-z0-9]{40}$/))return y("Invalid wallet address."),C(!1),void p(null);C(!0),y(!1),fetch("https://graphql.bitquery.io/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n  query ($address: String!) {\n    ethereum(network: bsc) {\n      transfers(receiver: {is: $address}) {\n        amount\n        currency {\n          name\n          symbol\n          tokenId\n          tokenType\n          decimals\n          address\n        }\n        date {\n          date\n        }\n        transaction {\n          hash\n          txFrom {\n            address\n          }\n        }\n        sender {\n          address\n          annotation\n          smartContract {\n            currency {\n              name\n            }\n            contractType\n          }\n        }\n        receiver {\n          address\n        }\n      }\n    }\n  }\n",variables:JSON.stringify({address:o})})}).then((function(e){return e.json()})).then((function(e){if(C(!1),e.errors)return y(e.errors),void p(null);var t=[],n=e.data.ethereum.transfers.reduce((function(e,n){var a=l[n.sender.address];if(!a)return e;var r=n.date.date,c=n.currency.symbol;return e[r]=e[r]||{},e[r][c]=e[r][c]||{},e[r][c][a]=e[r][c][a]||0,e[r][c][a]+=n.amount,t.includes(c)||t.push(c),e}),{}),a={};t.forEach((function(e){var t=a[e]={labels:[],datasets:{}};Object.entries(n).forEach((function(e){var n=Object(d.a)(e,2),a=n[0];n[1];t.labels.push(a)})),f.forEach((function(e){t.datasets[e]={label:e,backgroundColor:b[e],data:[]}}))})),Object.entries(n).forEach((function(e){var n=Object(d.a)(e,2),r=(n[0],n[1]);t.forEach((function(e){f.forEach((function(t){var n;a[e].datasets[t].data.push((null===(n=r[e])||void 0===n?void 0:n[t])||0)}))}))})),t.forEach((function(e){var t=a[e];t.datasets=Object.values(t.datasets).filter((function(e){return e.data.reduce((function(e,t){return e+t}),0)>0}))})),p(a)}))}),[o]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{children:"Enter your wallet address"}),Object(u.jsx)("input",{type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("div",{style:{maxWidth:600,margin:"auto"},children:""===o?null:x?Object(u.jsx)("pre",{children:JSON.stringify(x,null,4)}):E?Object(u.jsx)("p",{children:"Loading..."}):v&&Object.entries(v).map((function(e){var t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)("h1",{children:n}),Object(u.jsx)(i.a,{data:r,width:100,height:50,options:{scales:{x:{stacked:!0},y:{stacked:!0}}}})]},n+o)}))})]})}n(173);var h=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{className:"App-header",children:Object(u.jsxs)("h1",{children:[Object(u.jsx)("img",{src:o,className:"App-logo",alt:"logo"}),"Crypto Reflections"]})}),Object(u.jsx)(j,{})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,175)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(h,{})}),document.getElementById("root")),O()},65:function(e,t,n){}},[[174,1,2]]]);
//# sourceMappingURL=main.ade66677.chunk.js.map